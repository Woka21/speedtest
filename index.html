<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Speed Test – Check Internet Speed in 3 Seconds</title>
  <meta name="description" content="Accurate, ad-free speed test that runs in your browser. Measure download Mbps and ping in real-time. No app needed.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="https://testinternetspeed.netlify.app/">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⚡</text></svg>">
  <style>
    :root{--bg:#0d1117;--card:#161b22;--accent:#00ff66;--text:#c9d1d9;--sub:#8b949e}
    *{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif}
    body{background:var(--bg);color:var(--text);display:flex;flex-direction:column;min-height:100vh;align-items:center;justify-content:center}
    header{width:100%;padding:1rem 2rem;position:absolute;top:0;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #30363d}
    .logo{font-size:1.5rem;font-weight:700;color:var(--accent)}
    nav .nav-list{list-style:none;display:flex;gap:1.5rem}
    nav a{color:var(--text);text-decoration:none;font-weight:500}nav a:hover{color:var(--accent)}
    main{flex:1;display:flex;align-items:center;justify-content:center;padding:2rem;width:100%}
    .card{background:var(--card);border:1px solid #30363d;border-radius:12px;padding:2.5rem 3rem;text-align:center;max-width:460px;width:90%}
    h1{font-size:2rem;margin-bottom:.5rem;letter-spacing:-.5px}
    p.sub{color:var(--sub);margin-bottom:2rem;font-size:1rem}
    .speed{font-size:4rem;font-weight:700;color:var(--accent);line-height:1}
    .unit{font-size:1.25rem;color:var(--sub);margin-left:.25rem}
    .meta{margin-top:1rem;font-size:.9rem;color:var(--sub)}
    button.go{width:100%;padding:.9rem;font-size:1.1rem;border:0;border-radius:6px;background:var(--accent);color:var(--bg);cursor:pointer;transition:opacity .2s}button.go:disabled{opacity:.6;cursor:not-allowed}
    .res{margin-top:1.5rem;text-align:left;font-size:.9rem;color:var(--sub)}
    .res p{margin:.25rem 0}
    footer{margin-top:auto;padding:2rem;font-size:.875rem;color:var(--sub);text-align:center}
    footer a{color:var(--sub);text-decoration:none;margin:0 .5rem}
    @media(max-width:600px){h1{font-size:1.6rem}.speed{font-size:3rem}}
  </style>

  <!-- invisible structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": ["WebSite","QAPage"],
    "name": "Internet Speed Test",
    "url": "https://testinternetspeed.netlify.app/",
    "description": "Free browser-based internet speed test that reports download speed, ping, your public IP address and ISP in under 30 seconds.",
    "mainEntity": {
      "@type": "Question",
      "name": "How fast is my internet connection?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Click GO to measure real-time download speed, ping latency, your public IP and ISP name."
      }
    }
  }
  </script>
</head>

<body>
  <header>
    <div class="logo">⚡ SpeedTest</div>
    <nav aria-label="Main">
      <ul class="nav-list">
        <li><a href="index.html">Speed Test</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="learn.html">Learn More</a></li>
        <li><a href="faq.html">FAQ</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="card">
      <h1>Internet Speed Test</h1>
      <p class="sub">Click GO to measure your download speed in seconds</p>

      <div class="speed" id="speed">--<span class="unit">Mbps</span></div>
      <p class="meta" id="meta">Ready to start</p>

      <button class="go" id="goBtn">GO</button>

      <!-- lightweight results + extra copy -->
      <div class="res" id="res" style="display:none;">
        <p><strong>Download:</strong> <span id="down">--</span> Mbps</p>
        <p><strong>Ping:</strong> <span id="ping">--</span> ms</p>
        <p><strong>IP / ISP:</strong> <span id="ipisp">--</span></p>
        <p style="margin-top:.5rem;font-size:.85rem;">The test downloads a 10 MB sample from the nearest Cloudflare edge, measures time, and converts it to speed. Ping is the round-trip delay to that server. Your public IP and carrier name are shown so you can verify routing.</p>
      </div>
    </div>
  </main>

  <footer>
    <a href="/about">About</a>
    <a href="/learn.html">learn</a>
    <a href="/faq">FAQ</a>
  </footer>

  <script>
    const goBtn   = document.getElementById('goBtn');
    const speedEl = document.getElementById('speed');
    const metaEl  = document.getElementById('meta');
    const resEl   = document.getElementById('res');
    const downEl  = document.getElementById('down');
    const pingEl  = document.getElementById('ping');
    const ipispEl = document.getElementById('ipisp');

  async function runTest() {
  goBtn.disabled = true;
  metaEl.textContent = 'Testing…';
  resEl.style.display = 'none';
  speedEl.innerHTML = '--<span class="unit">Mbps</span>';

  /* ---------- download ----------
     10 MB from Cloudflare edge (CORS-safe) */
  const start = performance.now();
  const resp  = await fetch('https://speed.cloudflare.com/__down?bytes=10000000');
  const reader= resp.body.getReader();
  let bytes = 0;
  while (true) {
    const { done, value } = await reader.read();
    if (done) break;
    bytes += value.length;
  }
  const sec   = (performance.now() - start) / 1000;
  const mbps  = (bytes * 8) / (sec * 1e6);

  /* ---------- latency ----------
     measure TTFB of a 1×1 gif (no-cors) */
  const t0    = performance.now();
  await fetch('https://speed.cloudflare.com/cdn-cgi/trace', { mode: 'no-cors' });
  const ping  = (performance.now() - t0);

  /* ---------- IP + ISP ---------- */
  const ipInfo = await (await fetch('https://ipapi.co/json/')).json();
  ipispEl.textContent = `${ipInfo.ip}  ${ipInfo.org || 'Unknown'}`;

  /* ---------- display ---------- */
  speedEl.innerHTML = `${mbps.toFixed(1)}<span class="unit">Mbps</span>`;
  metaEl.textContent  = 'Done';
  downEl.textContent  = mbps.toFixed(1);
  pingEl.textContent  = ping.toFixed(0);
  resEl.style.display = 'block';
  goBtn.disabled = false;
}
    goBtn.addEventListener('click', runTest);
  </script>
</body>
</html>
